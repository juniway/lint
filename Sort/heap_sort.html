<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-us"><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>heap_sort</title><meta content="Juniway" name="author"></head><body><center style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><p><font size="4"><img src="http://www.personal.kent.edu/%7Ermuhamma/Maingif/redline.gif" height="2" width="640"></font></p><h2><font size="6">Heap Sort</font></h2><p><font size="4"><img src="http://www.personal.kent.edu/%7Ermuhamma/Maingif/redline.gif" height="2" width="640"></font></p></center><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">&nbsp;</p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><font size="4">The
binary heap data structures is an array that can be viewed as a
complete binary tree. Each node of the binary tree corresponds to an
element of the array. The array is completely filled on all levels
except possibly lowest.</font></p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">&nbsp;</p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;" align="center"><font size="4"><img src="http://www.personal.kent.edu/%7Ermuhamma/Algorithms/MyAlgorithms/Sorting/Gifs/heap0.gif" border="0" height="129" width="197"></font></p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">&nbsp;</p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><font size="4">We represent heaps in level order, going from left to right. The array corresponding to the heap above is [25, 13, 17, 5, 8, 3].</font></p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">&nbsp;</p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><font size="4">The root of the tree A[1] and given index<span class="Apple-converted-space">&nbsp;</span><i>i</i><span class="Apple-converted-space">&nbsp;</span>of a node, the indices of its parent, left child and right child can be computed</font></p>Let<span class="Apple-converted-space">&nbsp;</span><i>n</i><span class="Apple-converted-space">&nbsp;</span>be the number of elements in the heap and<span class="Apple-converted-space">&nbsp;</span><i>i</i><span class="Apple-converted-space">&nbsp;</span>be an arbitrary valid index of the array storing the heap. If the tree root is at index 0, with valid indices 0 through<span class="Apple-converted-space">&nbsp;</span><i>n</i>-1, then each element<span class="Apple-converted-space">&nbsp;</span><i>a</i>[<i>i</i>] has<ul style="margin: 0.3em 0px 0px 1.6em; padding: 0px; line-height: 19.1875px; list-style-type: disc; list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAANAQMAAABb8jbLAAAABlBMVEX///8AUow5QSOjAAAAAXRSTlMAQObYZgAAABNJREFUCB1jYEABBQw/wLCAgQEAGpIDyT0IVcsAAAAASUVORK5CYII=); color: rgb(0, 0, 0); font-family: sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: rgb(255, 255, 255);"><li style="margin-bottom: 0.1em;"><big>children<span class="Apple-converted-space">&nbsp;</span><i>a</i>[2<i>i</i>+1] and<span class="Apple-converted-space">&nbsp;</span><i>a</i>[2<i>i</i>+2]</big></li><li style="margin-bottom: 0.1em;"><big>parent<span class="Apple-converted-space">&nbsp;</span><i>a</i>[<a href="http://en.wikipedia.org/wiki/Floor_function" title="Floor function" class="mw-redirect" style="text-decoration: none; color: rgb(11, 0, 128); background-image: none;">floor</a>((<i>i</i>&#8722;1)/2)]</big></li></ul><p style="margin: 0.4em 0px 0.5em; line-height: 19.1875px; color: rgb(0, 0, 0); font-family: sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: rgb(255, 255, 255);"><big>Alternatively, if the tree root is at index 1, with valid indices 1 through<span class="Apple-converted-space">&nbsp;</span><i>n</i>, then each element<span class="Apple-converted-space">&nbsp;</span><i>a</i>[<i>i</i>] has</big></p><ul style="margin: 0.3em 0px 0px 1.6em; padding: 0px; line-height: 19.1875px; list-style-type: disc; list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAANAQMAAABb8jbLAAAABlBMVEX///8AUow5QSOjAAAAAXRSTlMAQObYZgAAABNJREFUCB1jYEABBQw/wLCAgQEAGpIDyT0IVcsAAAAASUVORK5CYII=); color: rgb(0, 0, 0); font-family: sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: rgb(255, 255, 255);"><li style="margin-bottom: 0.1em;"><big>children<span class="Apple-converted-space">&nbsp;</span><i>a</i>[2<i>i</i>] and<span class="Apple-converted-space">&nbsp;</span><i>a</i>[2<i>i</i>+1]</big></li><li style="margin-bottom: 0.1em;"><big>parent<span class="Apple-converted-space">&nbsp;</span><i>a</i>[floor(<i>i</i>/2)].</big></li></ul><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">&nbsp;<font size="4">Let's try these out on a heap to make sure we believe they are correct. Take this heap,</font></p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;" align="center"><font size="4"><img src="http://www.personal.kent.edu/%7Ermuhamma/Algorithms/MyAlgorithms/Sorting/Gifs/heap00.gif" border="0" height="180" width="224"></font></p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><font size="4">which is represented by the array [20, 14, 17, 8, 6, 9, 4, 1]. &nbsp;and vice versa.</font></p><p style="font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-weight: bold; color: red; background-color: rgb(255, 255, 204);"><font size="4">which means, that if we have an array </font><font size="4">[20, 14, 17, 8, 6, 9, 4, 1] to be sorted using heap_sort algorithm, we first will treat it as a heap tree like above.</font></p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><font size="4">We'll
go from the 20 to the 6 first. The index of the 20 is 1. To find the
index of the left child, we calculate 1 * 2 = 2. This takes us
(correctly) to the 14. Now, we go right, so we calculate 2 * 2 + 1 = 5.
This takes us (again, correctly) to the 6.</font></p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><font size="4">Now
let's try going from the 4 to the 20. 4's index is 7. We want to go to
the parent, so we calculate 7 / 2 = 3, which takes us to the 17. Now,
to get 17's parent, we calculate 3 / 2 = 1, which takes us to the 20.</font></p><span style="font-family: &quot;Times New Roman&quot;;">&nbsp;
&nbsp; 0 &nbsp;&nbsp; &nbsp; &nbsp; 1&nbsp;&nbsp;&nbsp; &nbsp;
&nbsp;2&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;3&nbsp;&nbsp;&nbsp; &nbsp;
&nbsp; 4 &nbsp; &nbsp; &nbsp; 5 &nbsp; &nbsp; &nbsp; &nbsp;6 &nbsp;
&nbsp; &nbsp; 7 &nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; 9
&nbsp; &nbsp; 10 &nbsp;&nbsp;11 &nbsp;12<br></span><table style="text-align: left; width: 461px; height: 33px;" border="1" cellpadding="2" cellspacing="2"><tbody><tr><td style="text-align: center;">25</td><td style="text-align: center;">22</td><td style="text-align: center;">17</td><td style="text-align: center;">19</td><td style="text-align: center;">22</td><td style="text-align: center;">14</td><td style="text-align: center;">15</td><td style="text-align: center;">18</td><td style="text-align: center;">14</td><td style="text-align: center;">21</td><td style="text-align: center;">3</td><td style="text-align: center;">9</td><td style="text-align: center;">11</td></tr></tbody></table><big><span style="font-family: &quot;Times New Roman&quot;;"><br>Notice:The left child of index <span style="color: rgb(51, 51, 255);">i</span> is at index <span style="color: rgb(51, 51, 255);">2*i+1</span></span><br></big><span style="font-family: &quot;Times New Roman&quot;;"><big>The right child of index <span style="color: rgb(51, 51, 255);">i</span> is at index<span style="color: rgb(51, 51, 255);"> 2*i+2</span><br>Example: the children of node <span style="color: rgb(51, 51, 255);">3</span> (19) are <span style="color: rgb(51, 51, 255);">7</span> (18) and <span style="color: rgb(51, 51, 255);">8</span> (14)</big><br><br></span><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">One
way to think of heap sort is as a cleverly optimized version of
selection sort. In selection sort, the sort works by repeatedly finding
the largest element not yet placed correctly, then putting it into the
next correct spot in the array. However, selection sort runs in time O(n<sup style="border: 0px none ; margin: 0px; padding: 0px; font-size: 11px; vertical-align: baseline; background-color: transparent; position: relative; top: -0.4em;">2</sup>)
because it has to do n rounds of finding the largest element out of a
bunch (and there can be up to n different elements to look at) and
putting it into place.</p><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">Intuitively, heap sort works by building up a special data structure called a<span class="Apple-converted-space">&nbsp;</span><a href="http://en.wikipedia.org/wiki/Binary_heap" style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; color: rgb(74, 107, 130); text-decoration: none; cursor: pointer;">binary heap</a><span class="Apple-converted-space">&nbsp;</span>that speeds up finding the largest element out of the unplaced array elements. Binary heaps support the following operations:</p><ul style="border: 0px none ; margin: 0px 0px 1em 30px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); list-style-type: disc; list-style-image: none; list-style-position: outside; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><li style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent;"><strong style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; font-weight: bold;">Insert</strong>, which inserts an element into the heap, and</li><li style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent;"><strong style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; font-weight: bold;">Delete-Max</strong>, which removes and returns the largest element of the heap.</li></ul><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">At a very high level, the algorithm works as follows:</p><ul style="border: 0px none ; margin: 0px 0px 1em 30px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); list-style-type: disc; list-style-image: none; list-style-position: outside; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><li style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent;"><strong style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; font-weight: bold;">Insert</strong><span class="Apple-converted-space">&nbsp;</span>each element of the array to a new binary heap.</li><li style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent;">For i = n down to 1:<ul style="border: 0px none ; margin: 0px 0px 0px 30px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; list-style-type: disc; list-style-image: none; list-style-position: outside;"><li style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent;">Call<span class="Apple-converted-space">&nbsp;</span><strong style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; font-weight: bold;">Delete-Max</strong><span class="Apple-converted-space">&nbsp;</span>on the heap to get the largest element of the heap back.</li><li style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent;">Write this element to position i.</li></ul></li></ul><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">This sorts the array because the elements returned by<span class="Apple-converted-space">&nbsp;</span><strong style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; font-weight: bold;">Delete-Max</strong><span class="Apple-converted-space">&nbsp;</span>are in descending order. Once all the elements have been removed, the array is then sorted.</p><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">Heap sort is efficient because the<span class="Apple-converted-space">&nbsp;</span><strong style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; font-weight: bold;">Insert</strong><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><strong style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; font-weight: bold;">Delete-Max</strong><span class="Apple-converted-space">&nbsp;</span>operations on a heap both run in O(log n) time, meaning that n inserts and deletions can be done on the heap in O(n log n) time.<span class="Apple-converted-space">&nbsp;</span><a href="http://stackoverflow.com/q/4589988/501557" style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; color: rgb(74, 107, 130); text-decoration: none; cursor: pointer;">A more precise analysis</a><span class="Apple-converted-space">&nbsp;</span>can be used to show that, in fact, it takes &#920;(n log n) time regardless of the input array.</p><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">Typically, heap sort employs two major optimizations. First, the heap is usually<span class="Apple-converted-space">&nbsp;</span><a href="http://en.wikipedia.org/wiki/Binary_heap#Heap_implementation" style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; color: rgb(74, 107, 130); text-decoration: none; cursor: pointer;">built up in-place inside the array</a><span class="Apple-converted-space">&nbsp;</span>by
treating the array itself as a compressed representation of the heap.
If you look at a heapsort implementation, you will usually see unusual
uses of array indices based on multiplying and dividing by two; these
accesses work because they are treating the array as a condensed data
structure. As a result, the algorithm requires only O(1) auxiliary
storage space.</p><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">Second, rather than building up the heap one element at a time, the heap is usually built<span class="Apple-converted-space">&nbsp;</span><a href="http://stackoverflow.com/a/6300047/501557" style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; color: rgb(74, 107, 130); text-decoration: none; cursor: pointer;">using a specialized algorithm</a><span class="Apple-converted-space">&nbsp;</span>that
runs in time &#920;(n) to build the heap in-place. Interestingly, in some
cases this ends up making the code easier to read because code can be
reused, but the algorithm itself becomes a bit trickier to understand
and analyze.</p><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">You will sometimes see heapsort done with a<span class="Apple-converted-space">&nbsp;</span><a href="http://en.wikipedia.org/wiki/D-ary_heap" style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; color: rgb(74, 107, 130); text-decoration: none; cursor: pointer;">ternary heap</a>.
This has the advantage of being slightly faster on average, but if you
find a heapsort implementation using this without knowing what you're
looking at it can be fairly tricky to read. Other algorithms also use
the same general structure but a more complex heap structure.<span class="Apple-converted-space">&nbsp;</span><a href="http://www.keithschwarz.com/smoothsort/" style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; color: rgb(74, 107, 130); text-decoration: none; cursor: pointer;">Smoothsort</a><span class="Apple-converted-space">&nbsp;</span>uses
a much more complicated heap to get O(n) best-case behavior while
maintaining O(1) space usage and O(n log n) worst-case behavior.<span class="Apple-converted-space">&nbsp;</span><a href="http://www.sciencedirect.com/science/article/pii/002001909190027F" style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; color: rgb(74, 107, 130); text-decoration: none; cursor: pointer;">Poplar sort</a><span class="Apple-converted-space">&nbsp;</span>is
similar to smoothsort, but with O(log n) space usage and slightly
better performance. One can even think of classic sorting algorithms
like<span class="Apple-converted-space">&nbsp;</span><a href="http://keithschwarz.com/talks/slides/smoothsort.pdf" style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; color: rgb(74, 107, 130); text-decoration: none; cursor: pointer;">insertion sort and selection sort as heap sort variants</a>.</p><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;">Once you have a better grasp of heapsort, you may want to look into the<span class="Apple-converted-space">&nbsp;</span><a href="http://en.wikipedia.org/wiki/Introsort" style="border: 0px none ; margin: 0px; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: transparent; color: rgb(74, 107, 130); text-decoration: none; cursor: pointer;">introsort</a><span class="Apple-converted-space">&nbsp;</span>algorithm,
which combines quicksort, heapsort, and insertion sort to produce an
extremely fast sorting algorithm that combines the strength of
quicksort (fast sorting on average), heapsort (excellent worst-case
behavior), and insertion sort (fast sorting for small arrays).
Introsort is what's used in many implementations of C++'s<span class="Apple-converted-space">&nbsp;</span><code style="border: 0px none ; margin: 0px; padding: 1px 5px; font-size: 14px; vertical-align: baseline; background-color: rgb(238, 238, 238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif;">std::sort</code><span class="Apple-converted-space">&nbsp;</span>function, and is not very hard to implement yourself once you have a working heapsort.</p><br>Use the following components to trace the algorithm and view the contents of the heap at each step.<span style="color: rgb(34, 51, 102); font-family: arial; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: rgb(255, 255, 255); display: inline ! important; float: none;">Number(s) to insert:<span class="Apple-converted-space">&nbsp;</span></span><input id="numbers" value="12 4 9 2 7 10" style="font-style: normal; font-variant: normal; font-weight: normal; white-space: normal;" type="text"><br style="color: rgb(34, 51, 102); font-family: arial; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><input value="insert" onclick="appendNumbers()" style="font-style: normal; font-variant: normal; font-weight: normal;" type="button"><br style="color: rgb(34, 51, 102); font-family: arial; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><input value="Clear Heap" onclick="clearHeap()" style="font-style: normal; font-variant: normal; font-weight: normal;" type="button"><span style="color: rgb(34, 51, 102); font-family: arial; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; background-color: rgb(255, 255, 255); display: inline ! important; float: none;"></span><div id="display" style="color: rgb(34, 51, 102); font-family: arial; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><span classname="bigAlgorithmStep" class="bigAlgorithmStep" style="font-size: 1.2em; font-weight: bold; color: black;">Heapify - insert all elements from the array into the heap and ensure the heap satisfies all heap properties.</span><br>After inserting 87 and sifting into proper position:<br><table id="Heap_stage_0" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr><td></td><td>87</td></tr><tr><td colspan="2"><input value="View As Array" type="button"></td></tr></tbody></table><br>After inserting 23 and sifting into proper position:<br><table id="Heap_stage_1" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr><td></td><td></td><td>87</td><td></td></tr><tr><td></td><td>23</td><td></td><td></td></tr><tr><td colspan="4"><input value="View As Array" type="button"></td></tr></tbody></table><br>After inserting 90 and sifting into proper position:<br><table id="Heap_stage_2" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr><td></td><td></td><td></td><td>90</td><td></td><td></td></tr><tr><td></td><td>23</td><td></td><td></td><td></td><td>87</td></tr><tr><td colspan="6"><input value="View As Array" type="button"></td></tr></tbody></table><br>After inserting 12 and sifting into proper position:<br><table id="Heap_stage_3" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr><td></td><td></td><td></td><td></td><td>90</td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>23</td><td></td><td></td><td></td><td>87</td><td></td></tr><tr><td></td><td>12</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td colspan="8"><input value="View As Array" type="button"></td></tr></tbody></table><br>After inserting 34 and sifting into proper position:<br><table id="Heap_stage_4" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr><td></td><td></td><td></td><td></td><td></td><td>90</td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>34</td><td></td><td></td><td></td><td></td><td></td><td>87</td><td></td></tr><tr><td></td><td>12</td><td></td><td></td><td>23</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td colspan="10"><input value="View As Array" type="button"></td></tr></tbody></table><br><span classname="bigAlgorithmStep" class="bigAlgorithmStep" style="font-size: 1.2em; font-weight: bold; color: black;">Repeatedly Remove root/maximum to attain the sorted list</span><br>After removing 90 and sifting into proper position:<br><table id="Heap_stage_5" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr><td></td><td></td><td></td><td></td><td>87</td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>34</td><td></td><td></td><td></td><td>23</td><td></td></tr><tr><td></td><td>12</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td colspan="8"><input value="View As Array" type="button"></td></tr></tbody></table><br>After removing 87 and sifting into proper position:<br><table id="Heap_stage_6" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr><td classname="heapArrayIndex" class="heapArrayIndex" style="font-size: 0.6em; font-style: italic; color: gray; text-align: center;">0</td><td classname="heapArrayIndex" class="heapArrayIndex" style="font-size: 0.6em; font-style: italic; color: gray; text-align: center;">1</td><td classname="heapArrayIndex" class="heapArrayIndex" style="font-size: 0.6em; font-style: italic; color: gray; text-align: center;">2</td></tr><tr><td classname="heapArrayDisplay" class="heapArrayDisplay" style="border: 1px solid black; padding: 3px; text-align: center; color: black;">34</td><td classname="heapArrayDisplay" class="heapArrayDisplay" style="border: 1px solid black; padding: 3px; text-align: center; color: black;">12</td><td classname="heapArrayDisplay" class="heapArrayDisplay" style="border: 1px solid black; padding: 3px; text-align: center; color: black;">23</td></tr><tr><td colspan="3"><input value="View as tree" type="button"></td></tr></tbody></table><br>After removing 34 and sifting into proper position:<br><table id="Heap_stage_7" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr><td classname="heapArrayIndex" class="heapArrayIndex" style="font-size: 0.6em; font-style: italic; color: gray; text-align: center;">0</td><td classname="heapArrayIndex" class="heapArrayIndex" style="font-size: 0.6em; font-style: italic; color: gray; text-align: center;">1</td></tr><tr><td classname="heapArrayDisplay" class="heapArrayDisplay" style="border: 1px solid black; padding: 3px; text-align: center; color: black;">23</td><td classname="heapArrayDisplay" class="heapArrayDisplay" style="border: 1px solid black; padding: 3px; text-align: center; color: black;">12</td></tr><tr><td colspan="2"><input value="View as tree" type="button"></td></tr></tbody></table><br>After removing 23 and sifting into proper position:<br><table id="Heap_stage_8" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr><td classname="heapArrayIndex" class="heapArrayIndex" style="font-size: 0.6em; font-style: italic; color: gray; text-align: center;">0</td></tr><tr><td classname="heapArrayDisplay" class="heapArrayDisplay" style="border: 1px solid black; padding: 3px; text-align: center; color: black;">12</td></tr><tr><td colspan="1"><input value="View as tree" type="button"></td></tr></tbody></table><br>After removing 12 and sifting into proper position:<br><table id="Heap_stage_9" classname="heapDisplay" class="heapDisplay" style="border: 3px solid gray; -x-border-x-spacing: 0px; -x-border-y-spacing: 0px; border-collapse: collapse; color: black;"><tbody><tr></tr><tr></tr><tr><td colspan="0"><input value="View as tree" type="button"></td></tr></tbody></table><br></div><h3 style="color: rgb(34, 51, 102); font-family: arial; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><br></h3><p style="border: 0px none ; margin: 0px 0px 1em; padding: 0px; font-size: 14px; vertical-align: baseline; background-color: rgb(255, 255, 255); clear: both; color: rgb(0, 0, 0); font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"></p><p style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"></p></body></html>